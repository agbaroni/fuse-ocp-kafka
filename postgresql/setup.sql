DROP TABLE IF EXISTS BOOKS;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO test1;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public to test1;

CREATE TABLE AUTHORS (  ID SERIAL NOT NULL UNIQUE PRIMARY KEY,
                        NAME VARCHAR(32) NOT NULL,
                        FAMILY_NAME VARCHAR(32) NOT NULL);


INSERT INTO AUTHORS(NAME, FAMILY_NAME) VALUES('Joseph', 'Silva');
INSERT INTO AUTHORS(NAME, FAMILY_NAME) VALUES('Marv', 'Wolfman');
INSERT INTO AUTHORS(NAME, FAMILY_NAME) VALUES('William', 'Rotsler');


CREATE TABLE BOOKS (	ISBN VARCHAR(32) NOT NULL UNIQUE PRIMARY KEY, 
			TITLE VARCHAR(128) NOT NULL UNIQUE, 
			PERSON INTEGER NOT NULL REFERENCES AUTHORS ON DELETE RESTRICT,
			PRICE DECIMAL (6,2) NOT NULL);

INSERT INTO BOOKS(ISBN, TITLE, PERSON, PRICE) VALUES('9780671820862', 'Captain America: Holocaust For Hire', 1, 29.90);
INSERT INTO BOOKS(ISBN, TITLE, PERSON, PRICE) VALUES('9780671820879', 'The Fantastic Four: Doomsday', 2, 25.90);
INSERT INTO BOOKS(ISBN, TITLE, PERSON, PRICE) VALUES('9780671820886', 'Doctor Strange: Nightmare', 3, 18.90);
